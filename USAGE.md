# 安维科技网站使用说明

## 🚀 快速开始

### 1. 环境准备
确保您的系统已安装：
- Node.js 14.0 或更高版本
- MongoDB 4.0 或更高版本
- npm 或 yarn 包管理器

### 2. 安装和配置

#### Windows 用户
1. 双击运行 `start.bat` 文件
2. 脚本会自动检查环境并安装依赖
3. 首次运行会创建 `.env` 示例文件
4. 编辑 `.env` 文件，配置数据库和API密钥

#### Linux/Mac 用户
1. 在终端中运行：`./start.sh`
2. 脚本会自动检查环境并安装依赖
3. 首次运行会创建 `.env` 示例文件
4. 编辑 `.env` 文件，配置数据库和API密钥

#### 手动安装
```bash
# 安装依赖
npm install

# 创建环境变量文件
cp .env.example .env

# 编辑环境变量
# 配置 MONGODB_URI 和 QWEN_API_KEY

# 启动服务器
npm run dev
```

### 3. 环境变量配置

编辑 `.env` 文件，配置以下变量：

```env
# 数据库连接
MONGODB_URI=mongodb://localhost:27017/anwei-site

# 阿里云通义千问API密钥
QWEN_API_KEY=your_qwen_api_key_here

# 服务器端口
PORT=3000
```

## 📱 网站功能

### 前端页面
- **首页** (`/`): 网站主页，展示公司介绍和核心功能
- **AI助手** (`/chat.html`): 智能对话系统
- **产品展示** (`/products.html`): 商品列表和购买
- **作品集** (`/works.html`): 项目展示
- **联系我们** (`/contact.html`): 联系表单

### 后台管理
- **登录页面** (`/admin/`): 管理员登录
- **管理面板** (`/admin/dashboard.html`): 数据统计和管理功能

## 🔧 后台管理功能

### 1. 登录系统
访问 `/admin/` 进入登录页面，输入管理员凭据。

### 2. 仪表盘
- 查看数据统计（留言数、商品数、订单数等）
- 监控最近活动
- 快速访问各管理模块

### 3. 留言管理
- 查看用户留言
- 删除不当留言
- 实时更新留言列表

### 4. 商品管理
- **添加商品**: 点击"添加商品"按钮，填写商品信息
- **编辑商品**: 点击商品行的"编辑"按钮
- **删除商品**: 点击商品行的"删除"按钮
- **商品状态**: 设置商品上架/下架状态

### 5. 订单管理
- 查看所有订单
- 标记订单为已完成
- 处理支付凭证

## 🛍️ 电商功能

### 产品展示
- 动态加载产品列表
- 支持搜索和筛选
- 产品状态管理（在售/下架）

### 购买流程
1. 用户在产品页面选择商品
2. 点击"立即购买"进入购买页面
3. 填写邮箱和上传支付凭证
4. 提交订单等待处理

### 订单处理
1. 管理员在后台查看新订单
2. 验证支付凭证
3. 标记订单为已完成
4. 系统自动发送邮件通知

## 🤖 AI功能

### 聊天系统
- 基于阿里云通义千问API
- 支持自然语言对话
- 历史记录保存
- 智能建议问题

### 配置AI服务
1. 注册阿里云账号
2. 开通通义千问服务
3. 获取API密钥
4. 在 `.env` 文件中配置 `QWEN_API_KEY`

## 📁 文件结构说明

```
anwei-site/
├── server.js              # 主服务器文件
├── package.json           # 项目配置
├── .env                   # 环境变量（需要创建）
├── public/                # 静态文件
│   ├── index.html         # 首页
│   ├── chat.html          # AI聊天
│   ├── products.html      # 产品展示
│   ├── works.html         # 作品集
│   ├── contact.html       # 联系我们
│   ├── style.css          # 主样式
│   ├── admin/             # 后台管理
│   │   ├── index.html     # 登录页面
│   │   ├── dashboard.html # 管理面板
│   │   └── admin.css      # 后台样式
│   └── product/           # 产品相关
│       ├── submit.html    # 购买页面
│       └── doc-template.html # 产品详情
├── uploads/               # 文件上传目录
└── node_modules/          # 依赖包
```

## 🔒 安全注意事项

### 1. 环境变量保护
- 不要将 `.env` 文件提交到版本控制
- 定期更换API密钥
- 使用强密码

### 2. 文件上传安全
- 限制上传文件类型
- 设置文件大小限制
- 定期清理上传目录

### 3. 数据库安全
- 使用强密码
- 定期备份数据
- 限制数据库访问权限

## 🚀 部署建议

### 开发环境
- 使用 `npm run dev` 启动
- 支持热重载
- 便于调试

### 生产环境
1. **服务器配置**
   - 使用 PM2 管理进程
   - 配置 Nginx 反向代理
   - 设置 SSL 证书

2. **数据库配置**
   - 使用 MongoDB Atlas 云数据库
   - 配置连接池
   - 设置自动备份

3. **监控和日志**
   - 配置错误监控
   - 设置访问日志
   - 定期检查系统状态

## 🐛 常见问题

### 1. 启动失败
- 检查 Node.js 版本
- 确认 MongoDB 服务运行
- 验证环境变量配置

### 2. AI聊天无响应
- 检查 API 密钥配置
- 确认网络连接
- 查看服务器日志

### 3. 文件上传失败
- 检查 uploads 目录权限
- 确认文件大小限制
- 验证文件类型

### 4. 数据库连接失败
- 检查 MongoDB 服务状态
- 验证连接字符串
- 确认网络连接

## 📞 技术支持

如遇到问题，请联系：
- 微信/手机：13779447487@163.com
- 邮箱：contact@anwei.shop

---

**安维科技** - 用科技创造美好未来 🚀 